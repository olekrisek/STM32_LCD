<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32_LCD: LCD Library for STM32 Microcontrollers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">STM32_LCD
   </div>
   <div id="projectbrief">The provided library is designed to facilitate the interaction with an LCD display using a microcontroller. It offers functions and methods for initializing the display, sending commands and data, and controlling various aspects of the LCD module. The library allows flexibility in specifying the ports used for data, read/write, enable, and register select signals, accommodating different microcontroller configurations. It also supports the simultaneous use of multiple displays, allowing independent control and printing on each. The library simplifies the process of connecting LCD displays while ensuring the compatibility and optimal utilization of other peripherals on the microcontroller.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="class_l_c_d.html">LCD</a> Library for STM32 Microcontrollers </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This library provides a high-level interface for driving <a class="el" href="class_l_c_d.html">LCD</a> text displays using STM32 microcontrollers. It is based on the existing C code from the LiquidCrystal library, with additional features and modifications specific to STM32 microcontrollers.</p>
<p>This library is based on the works found in the <a href="https://github.com/SayidHosseini/STM32LiquidCrystal">STM32LiquidCrystal</a> repository. We would like to acknowledge and express our gratitude to the original author for their contributions and inspiration.</p>
<p>The code is tested on a STM32L552 controller on a NUKLEO-STM32L552 board.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Features</h1>
<ul>
<li>Supports multiple ports for digital lines, allowing flexible pin assignment for data and control signals.</li>
<li>Supports multiple <a class="el" href="class_l_c_d.html">LCD</a> displays connected to the same microcontroller.</li>
<li>changed the "print" override, to make it possible to direct output to selected display.</li>
<li>Both C++ class code, and a C-compatible wrapper implementation to allow calls both from C++ source and C source.</li>
<li>a printFormatted method to use for printf style printing, accepting the same parameters as printf.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Usage</h1>
<ol type="1">
<li>Include the necessary library files (<code><a class="el" href="lcd_8hpp_source.html">lcd.hpp</a></code> and <code>lcd.cpp</code>, <code><a class="el" href="_l_c_d__wrapper_8cpp.html" title="Wrapper functions for interfacing with an LCD display.">LCD_wrapper.cpp</a></code>, <code><a class="el" href="_l_c_d__wrapper_8h_source.html">LCD_wrapper.h</a></code> ) in your STM32 project. The wrapper files is only neccessary for "C" projects, in addition to the lcd.cpp and <a class="el" href="lcd_8hpp_source.html">lcd.hpp</a>. for C++ projectes, it's only neccessarey with the lcd.cpp and <a class="el" href="lcd_8hpp_source.html">lcd.hpp</a> files.</li>
<li>Initialize the <a class="el" href="class_l_c_d.html">LCD</a> display using the appropriate constructor, providing the GPIO port references for data and control signals.</li>
<li>Use the available methods to interact with the <a class="el" href="class_l_c_d.html">LCD</a> display, such as writing text, setting the cursor position, creating custom characters, and controlling display settings.</li>
<li>Build and flash your STM32 project, ensuring that the <a class="el" href="class_l_c_d.html">LCD</a> library is properly linked.</li>
</ol>
<h1><a class="anchor" id="autotoc_md3"></a>
Example for C++ project</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;lcd.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// GPIO port references</span></div>
<div class="line">GPIO_TypeDef* portData = GPIOA;</div>
<div class="line">GPIO_TypeDef* portCtrlRW = GPIOB;</div>
<div class="line">GPIO_TypeDef* portCtrlEN = GPIOC;</div>
<div class="line">GPIO_TypeDef* portCtrlRS = GPIOD;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Create an instance of the LCD class</span></div>
<div class="line">    <a class="code hl_class" href="class_l_c_d.html">LCD</a> lcd(portData, portCtrlRW, portCtrlEN, portCtrlRS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the LCD control and data pins</span></div>
<div class="line">    lcd.initCtrlPins(0, 1, 2); <span class="comment">// Example pin numbers</span></div>
<div class="line">    lcd.initDataPins(3, 4, 5, 6); <span class="comment">// Example pin numbers</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set up the LCD display parameters</span></div>
<div class="line">    lcd.Begin(16, 2); <span class="comment">// 16 columns, 2 rows</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Print a message on the LCD</span></div>
<div class="line">    lcd.printLCD(<span class="stringliteral">&quot;Hello, World!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the cursor position</span></div>
<div class="line">    lcd.setCursor(0, 1); <span class="comment">// Second row, first column</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Print another message, printf style parameters...</span></div>
<div class="line">    lcd.printFormatted(<span class="stringliteral">&quot;The answer is: %d&quot;</span>, 42);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="comment">// Your main program logic here</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_l_c_d_html"><div class="ttname"><a href="class_l_c_d.html">LCD</a></div><div class="ttdef"><b>Definition:</b> lcd.hpp:67</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md4"></a>
Example for C project</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;LCD_wrapper.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// GPIO port references - those are usually located in main.h when using STM32CubeMX. </span></div>
<div class="line"><span class="preprocessor">#define DSP_D4_Pin GPIO_PIN_8</span></div>
<div class="line"><span class="preprocessor">#define DSP_D4_GPIO_Port GPIOC</span></div>
<div class="line"><span class="preprocessor">#define DSP_D5_Pin GPIO_PIN_9</span></div>
<div class="line"><span class="preprocessor">#define DSP_D6_Pin GPIO_PIN_10</span></div>
<div class="line"><span class="preprocessor">#define DSP_D7_Pin GPIO_PIN_11</span></div>
<div class="line"><span class="preprocessor">#define DSP_RS_Pin GPIO_PIN_3</span></div>
<div class="line"><span class="preprocessor">#define DSP_RS_GPIO_Port GPIOF</span></div>
<div class="line"><span class="preprocessor">#define DSP_EN_Pin GPIO_PIN_12</span></div>
<div class="line"><span class="preprocessor">#define DSP_EN_GPIO_Port GPIOC</span></div>
<div class="line"><span class="preprocessor">#define DSP_RW_Pin GPIO_PIN_2</span></div>
<div class="line"><span class="preprocessor">#define DSP_RW_GPIO_Port GPIOD</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Create an instance of the LCD class</span></div>
<div class="line">    <a class="code hl_class" href="class_l_c_d.html">LCD</a> *lcd;</div>
<div class="line">    lcd = LCD_create(DSP_D4_GPIO_Port, DSP_RW_GPIO_Port, DSP_EN_GPIO_Port, DSP_RS_GPIO_Port);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the LCD control and data pins</span></div>
<div class="line">    LCD_initCtrlPins(lcd, DSP_RW_Pin, DSP_EN_Pin, DSP_RS_Pin);</div>
<div class="line">    LCD_initDataPins(lcd, DSP_D4_Pin,  DSP_D5_Pin, DSP_D6_Pin, DSP_D7_Pin);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set up the LCD display parameters</span></div>
<div class="line">    LCD_Begin(lcd, 20, 4); <span class="comment">// 20 columns and 4 lines. </span></div>
<div class="line">     </div>
<div class="line">    <span class="comment">// Print a message on the LCD</span></div>
<div class="line">    LCD_print( lcd, <span class="stringliteral">&quot;Hello World !&quot;</span>);</div>
<div class="line">     </div>
<div class="line">    <span class="comment">// Set the cursor position</span></div>
<div class="line">    LCD_setCursor( lcd, 0, 2);</div>
<div class="line">     </div>
<div class="line">    <span class="comment">// Print another message as formatted text</span></div>
<div class="line">    LCD_printFormatted(lcd, <span class="stringliteral">&quot;The answer is: %d&quot;</span>, 42);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="comment">// Your main program logic here</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md5"></a>
Notes</h1>
<p>The C++ constructor or LCD_Create method accepts four port parameters: data port, RW port, EN port, and RS port. These ports can either be the same for all or different from each other. This change was made to enhance flexibility, considering that the microcontroller has numerous peripherals reserved for specific ports. By allowing different ports, it becomes easier to connect the display without disabling other essential peripherals. Finding seven IO pins on a single port without disabling other peripherals can be challenging. Moreover, when utilizing a NUKLEO board, it is preferable to have the <a class="el" href="class_l_c_d.html">LCD</a> pins positioned close to each other on the board connectors, facilitating the connection process.</p>
<p>Furthermore, this library enables the connection of multiple displays to the same microcontroller. You can create and initialize two <a class="el" href="class_l_c_d.html">LCD</a> objects, configuring each of them separately. Assign the names "lcd1" and "lcd2" to the objects, enabling independent printing on both displays.</p>
<p><img src="https://github.com/olekrisek/STM32_LCD/assets/3278226/85caf874-7ccc-4aae-9915-3bd373223f9e" alt="IMG_2835" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
